# -------------------------------------------------------------------------------------------------
# ----------------------- IMPLEMENTATION :: The WxPython Application Widget -----------------------
# -------------------------------------------------------------------------------------------------
from .. Abstract.Object.Object cimport Object
from .. Abstract.Object.Object cimport secret

from .. Document.Document cimport Document
from .. Document.Document cimport document

from .  Widget cimport Widget
from .  Window cimport Window
from .  Window cimport window

import wx


# -------------------------------------------------------------------------------------------------
# -------------------------------------- CLASS :: Application -------------------------------------
# -------------------------------------------------------------------------------------------------
cdef class Application(Widget):

	# ------------------------------------------------------------------------------------------
	# ------------------------------- CONSTRUCTOR :: Constructor -------------------------------
	# ------------------------------------------------------------------------------------------
	def __cinit__(self, secret: object) -> None:

		self.wxApplication = type('wxApplication', (wx.App, ), {
			'OnInit': self.onInit,
			'OnExit': self.onExit,
		})()

		self.window   = window
		self.document = document

		window.init()
		document.init()


	# ------------------------------------------------------------------------------------------
	# ------------------------------ PRIVATE :: On-Tick Callback -------------------------------
	# ------------------------------------------------------------------------------------------
	cdef void onTick(self, object event):
		print('tick')


	# ------------------------------------------------------------------------------------------
	# ------------------------------ PRIVATE :: On-Init Callback -------------------------------
	# ------------------------------------------------------------------------------------------
	cdef bint onInit(self):
		return 1


	# ------------------------------------------------------------------------------------------
	# ------------------------------ PRIVATE :: On-Exit Callback -------------------------------
	# ------------------------------------------------------------------------------------------
	cdef bint onExit(self):
		return 0



application = Application(secret)
